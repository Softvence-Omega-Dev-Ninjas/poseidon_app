enum Duration {
    ONE_MONTH
    ONE_YEAR
}

// create a per supporter with membership model - only create supporter
model Membership_owner {
    id                          String                        @id @default(uuid())
    ownerId                     String                        @unique
    owner                       User                          @relation(fields: [ownerId], references: [id], onDelete: Cascade)
    createdAt                   DateTime                      @default(now())
    updatedAt                   DateTime                      @updatedAt
    Membership_levels           Membership_levels[]
    MembershipAccessToVideoCall MembershipAccessToVideoCall[] @relation("MembershipAccessToVideoCall")
    MembershipAccessToMessages  MembershipAccessToMessages[]  @relation("AccessToMessages")
    MembershipAccessToGallery   MembershipAccessToGallery[]   @relation("AccessToGallery")
    MembershipAccessToPosts     MembershipAccessToPosts[]     @relation("AccessToPosts")
}

//create a membership model with plans levels cart with supporter - only create supporter
model Membership_levels {
    id               String           @id @default(uuid())
    membershipId     String
    membership       Membership_owner @relation(fields: [membershipId], references: [id], onDelete: Cascade)
    levelName        String
    levelDescription String?
    levelImage       String

    MembershipSubscriptionPlan MembershipSubscriptionPlan[]
    Wellcome_note              String?
    createdAt                  DateTime                     @default(now())
    updatedAt                  DateTime                     @updatedAt
}

// 2 type subscription plans with duration and price connect to membership and membership_levels - create only supporter
model MembershipSubscriptionPlan {
    id                String            @id @default(uuid())
    membershipLevelId String
    membershipLevel   Membership_levels @relation(fields: [membershipLevelId], references: [id], onDelete: Cascade)

    duration Duration // ONE_MONTH or ONE_YEAR
    price    Float // e.g., 5 or 50

    // Access controls:
    membershipAccessToVideoCallId String?
    callLimitAccess               MembershipAccessToVideoCall? @relation(fields: [membershipAccessToVideoCallId], references: [id])
    membershipAccessGalleryId     String?
    galleryAccess                 MembershipAccessToGallery?   @relation(fields: [membershipAccessGalleryId], references: [id])
    membershipAccessToPostsId     String?
    MembershipAccessToPosts       MembershipAccessToPosts?     @relation(fields: [membershipAccessToPostsId], references: [id])
    membershipAccessToMessagesId  String?
    MembershipAccessToMessages    MembershipAccessToMessages?  @relation(fields: [membershipAccessToMessagesId], references: [id])

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@unique([membershipLevelId, duration]) // one plan per level+duration
}


model CallSubscriptionPlan {
    
}