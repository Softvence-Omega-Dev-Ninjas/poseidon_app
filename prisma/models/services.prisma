

model Service {
  id           String          @id @unique @default(uuid())
  serviceName  String
  description  String
  images       String[]       
  price        Float
  success      Success
  successPage  String?
  draft        Boolean         @default(true)
  orderNumber  Int?
  lastOrderBy  String?        
  orders       ServiceOrder[]

  
  userId       String
  user         User            @relation(fields: [userId], references: [id])
}

model ServiceOrder {
  id        String   @id @unique @default(uuid())
  status ServiceOrderStatus @default(pending)
  payment   PaymentDetailsByServices? @relation(fields: [paymentId], references: [id])
  paymentId String? @unique
  service   Service  @relation(fields: [serviceId], references: [id])
  serviceId String
   user      User     @relation("UserServiceOrders", fields: [userId], references: [id]) 
  userId    String
  createdAt DateTime @default(now())
}

enum Success {
  message
  redirect
}

enum ServiceOrderStatus {
  pending
  approved
  rejected
}

model PaymentDetailsByServices {
  id            String        @id @default(uuid())
  amount        Float
  pi_number     String?
  paymemtStatus PaymemtStatus @default(pending)
  createAt      DateTime      @default(now())

  order ServiceOrder?
}

